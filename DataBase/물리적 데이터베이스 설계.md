## 물리적 데이터베이스 설계

보조 기억 장치에 어떻게 데이터를 저장할까?

*보조 기억 장치

블록 단위로 데이터를 저장해두어 이후 주기억 장치에서 데이터를 읽음
데이터가 변경된 경우 블록들을 디스크에 다시 기록(write)

[과거] 저장 장치 계층 구조

주기억 장치 - 디스크 - 테이프 (위-아래)

### 자기 디스크

- 여러개의 판으로 이루어짐
- 각 면마다 디스크 헤드가 있음(위 아래)
- 각 판은 트랙(동심원)과 섹터(나눈 영역)로 구분, 같은 트랙들 = 실린더
이때 실린더는 여러 파일들을 헤드를 움직이지 않고 읽을 수 있음
- 정보는 디스크 표면 상의 트랙을 따라 저장
- 디스크에서 임의의 블록 읽어오거나 기록하는데 걸리는 시간 
= 탐구 시간/헤드가 움직이는 시간(seek time) + 회전 지연 시간(rotational delay) + 전송 시간(transfer time)

### 버퍼관리와 운영 체제

매번 하드디스크에 접근하지 않기 위해 메모리에 저장을 해둠

- 운영체제 입장이서는 흔히 사용되는 LRU 알고리즘을 사용하지만 DBMS 입장에서는 optimal 하지 않은 경우가 있음

### 레코드 배치

- 애트리뷰트의 크기 가변/고정 길이의 필드 → 연관된 필드가 모여 가변/고정 레코드 생성
- 한 파일에 속하는 블록들이 반드시 인접해 있을 필요는X
- BLOB(Binary Large Object) - 이미지, 동영상 등 대규모 데이터
- 채우기 인수(fill factor) - 한 블록의 몇 % 채울 것인가. 100% 채울 필요 X
이는 나중에 레코드가 삽입될 대 기존 레코드들 이동하는 가능성 줄임
